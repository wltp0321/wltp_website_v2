{% extends "base.html" %} 
{% block title %}블로그 - IMPERIUM SERVER{% endblock %}

{% block content %}

<section class="py-12 bg-gradient-to-b from-gray-50 to-white border-b border-gray-200">
    <div class="max-w-5xl mx-auto px-4 text-center">
        <h1 class="font-pixel text-4xl md:text-5xl mb-4 tracking-wider text-mc-blue drop-shadow-md">
            블로그
        </h1>
        <p class="text-lg md:text-xl text-gray-700 opacity-90 leading-relaxed max-w-2xl mx-auto">
            서버 소식과 꿀팁, 공략을 확인하세요.
        </p>
    </div>

    {% if user.is_authenticated and user.is_staff %}
    <div class="flex justify-center mb-6">
        <a href="{% url 'blog:post_create' %}" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
            글쓰기
        </a>
    </div>
    {% endif %}
</section>

<section class="py-12 bg-white">
    <div class="max-w-5xl mx-auto px-4 grid gap-6 sm:gap-8 md:grid-cols-2">
        {% for post in posts %}
            <article class="w-full bg-white rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition group overflow-hidden">
                <a href="{% url 'blog:post_detail' post.pk %}" class="block p-6">
                    <h2 class="font-bold text-2xl text-gray-900 group-hover:text-blue-600 transition">
                        {{ post.title }}
                    </h2>
                    <p class="text-sm text-gray-500 mt-1">
                        {{ post.created_at|date:"Y-m-d" }}
                    </p>
                    <p class="mt-4 text-gray-700 leading-relaxed line-clamp-3">
                        {{ post.content|truncatewords:30 }}
                    </p>
                    <div class="mt-4">
                        <span class="text-blue-500 font-medium">
                            더보기 →
                        </span>
                    </div>
                </a>
            </article>
        {% empty %}
            <p class="col-span-2 text-center text-gray-500">게시글이 없습니다.</p>
        {% endfor %}
    </div>
</section>

{% endblock %}
